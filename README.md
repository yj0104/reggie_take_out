## 10月21日~10月23日敲得代码

### 新增功能

1. 用户地址簿功能(地址簿管理需要实现以下几个功能)
    1. 新增地址
        1. 需要记录当前是哪个用户的地址(关联当前登录用户)
    2. 地址列表查询
       1. 根据当前登录用户ID，查询所有的地址列表
    3. 设置默认地址
        1. 每个用户可以有很多地址，但是默认地址只能有一个
        2. 先将该用户所有地址的is_default更新为0 , 然后将当前的设置的默认地址的is_default设置为1
    4. 编辑地址
    5. 删除地址
2. 菜品展示(代码逻辑)
   1. 查询菜品方法修改
      1. 我们需要修改DishController的list方法，原来此方法的返回值类型为：R<List<Dish>>。为了满足移动端对数据的要求(菜品基本信息和菜品对应的口味信息)，现在需要将方法的返回值类型改为：R<List<DishDto>> ，因为在DishDto中封装了菜品对应的口味信息：
      2. 根据分类ID查询，查询目前正在启售的菜品列表 (已实现)
      3. 遍历菜品列表，并查询菜品的分类信息及菜品的口味列表
      4. 组装数据DishDto，并返回
   2. 根据分类ID查询套餐
      1. 在SetmealController中创建list方法，根据条件查询套餐数据
3. 购物车
- 实体类ShoppingCart(Mapper,Service,ServiceImpl,Controller)
   1. 添加购物车
      1. 获取当前登录用户，为购物车对象赋值
      2. 根据当前登录用户ID及本次添加的菜品ID/套餐ID，查询购物车数据是否存在
      3. 如果已经存在，就在原来数量基础上加1
      4. 如果不存在，则添加到购物车，数量默认就是1
   2. 查询购物车
      1. 在ShoppingCartController中创建list方法，根据当前登录用户ID查询购物车列表，并对查询的结果进行创建时间的倒序排序。
   3. 清空购物车
      1. 在ShoppingCartController中创建clean方法，在方法中获取当前登录用户，根据登录用户ID，删除购物车数据。
5. 下单
   1. 实体类Orders,OrderDetail(Mapper,Service,ServiceImpl,Controller)
   2. 在OrderController中创建submit方法，处理用户下单的逻辑
   3. 获得当前用户id, 查询当前用户的购物车数据
   4. 根据当前登录用户id, 查询用户数据
   5. 根据地址ID, 查询地址数据
   6. 组装订单明细数据, 批量保存订单明细 
   7. 组装订单数据, 批量保存订单数据
   8. 删除当前用户的购物车列表数据

## 项目实战中完成的需求(粗糙写写过)
- 后台系统
  - 菜品管理（批量删除、起售停售）
  - 套餐管理（修改、起售停售）
  - 订单明细
- 移动端
  - 个人中心（退出登录、最新订单查询、历史订单、地址管理-修改地址、地址管理-删除地址）
  - 购物车（删除购物车中的商品)